
  //邮箱登录cookie
  let cookie1=encodeURIComponent('_ntes_nnid=847889376025ea1e3724a6cc3338be66,1671327787618; _ntes_nuid=847889376025ea1e3724a6cc3338be66; NMTID=00OIKnGJmuKEWorlU26udOtYUYkNboAAAGFIuYuzA; ntes_kaola_ad=1; __snaker__id=0Cp9ESCsCLocY9Kg; WM_TID=ucx%2BduuSKARAFVVUAALUYu%2FLZIzGYOSb; YD00000558929251%3AWM_TID=DEuz3ZgviApBVBQEUVaEcu7OMkU6KJup; JSESSIONID-WYYY=YBEODyy%2ByJ%2FkfB3xCPx8MDuZmPfxmnTSk8q8KGmgOOUso1YlGZS8JbuRPGpATlWyPYuX6o54BTCbMtyvZo3JYDy%2BjJ6ngEybXj41%2BNzMERED9%2BU9zn0mJC4Kce5NSc2PN4Swn%2FOzDUflS2bnBHAY5DFq08wuTwTvz45e30Bfg%2FZ7tufF%3A1675047228382; _iuqxldmzr_=33; WM_NI=%2Bq6Sa5XkvjfnbijeJkuyj6X4A8u%2BZsNu9TBhl5z%2FNxuxYf7X%2F5UVFIayF76MIv7VzO1tWJDg9hPKERQDJT6M72QJ3rG%2FzO4jExDE6S%2BYLIyB8NTsOvAas5cM1IHp2P2KRHc%3D; WM_NIKE=9ca17ae2e6ffcda170e2e6eed7f95dbcecbd9bb85290bc8fb2c14f928b8a87d86f878f9fadb644b89f8db6d02af0fea7c3b92ae9affab4e43f9cb5ba8be566a2b7a686c961b7a7a6d7db4083e8bbccd9798eabf7b5c164b0ebb6d0cd74b7a89787b654edeb9bb7c543a3a78ad8b5478baaf9b7f945f3ac99abc76dfbb8a0acc85a939c86b5b547f5ee9fabb27a85f1b6b0b76287a88ca6b559e98784aafc4afc929c94ce7e83bfbdd6e247f3978891b15cf2959ea9e237e2a3; YD00000558929251%3AWM_NI=mY1o%2BqP7oh8WflskAze08J%2FiSGhI6YY8srWLb0F7wONOMR6JFw4Msuuni3E6K0Q9w%2BlRXFmWLLsAaIWJPICNwqt2yDf7EwGsyYiCUsOxlFjCyH%2FyLlOiFZ5wn3Sz94HXemY%3D; YD00000558929251%3AWM_NIKE=9ca17ae2e6ffcda170e2e6eeccc9528bf5bfa7c46bb48e8ba3c45a939f8a87c86f979f8e86f150fc9ffb9be82af0fea7c3b92aaf87ff90aa7b94e9a189bb5da6b4bd8cc472a7f0f8abae639199a8aab5539be8bd93d648a2f08ad8f6458e9183b3b54286a9fcaef27fb7b2a7d4c83e89f09fdaf621b08e98a7f05d9094bda2e4439596a0aac246b5afbcd3fc50a6e98b98c679bb87a7a4d8798da8a4a7e949bb98e19acf688db78abbb87daeed9d9bbc408c88ab8edc37e2a3; MUSIC_U=fad531027b271b05cd1cb9ac942ac728786b64e344ceb03d2dfc1f0baace0c5e993166e004087dd376b9c749073f270348623f4659fc9da46bd7be17af1177938411a24e33bda135d4dbf082a8813684; __remember_me=true; __csrf=5a6058ab58e58db1b3bd6802f9b77d39; gdxidpyhxdE=1UZcLNusX3oUosv4WOkVEdK3cNEysXl%2Fphym3zT2Zs8l8HKC5m0G8%5CKbzQ%2F%2FM%2B57l8yWToLlHnmEOO77L%2BxIKh10E4AUq5vzoGAlSPI0y%5C3uSnk6T9TgZtELtf6%2Bu8Qm3BHInLmZ86a0yZtI82%5CqUkVeLsr%2BaCccweeZ1RMSs5cHCygT%3A1675047169781sec-ch-ua: "Not_A Brand";v="99", "Microsoft Edge";v="109", "Chromium";v="109"')
  //游客cookie
  let cookie2=encodeURIComponent('"MUSIC_A_T=1674888773759; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/eapi/clientlog;;MUSIC_R_T=0; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/neapi/clientlog;;MUSIC_R_T=0; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/eapi/clientlog;;MUSIC_A_T=1674888773759; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/wapi/clientlog;;MUSIC_R_T=0; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/neapi/feedback;;MUSIC_A_T=1674888773759; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/eapi/feedback;;MUSIC_A_T=1674888773759; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/weapi/feedback;;MUSIC_A_T=1674888773759; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/api/clientlog;;MUSIC_R_T=0; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/weapi/feedback;;MUSIC_R_T=0; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/api/clientlog;;__csrf=2c7fbbde865bfb461428007b03b870c9; Max-Age=1296010; Expires=Tue, 14 Feb 2023 02:56:27 GMT; Path=/;;MUSIC_A_T=1674888773759; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/weapi/clientlog;;MUSIC_A_T=1674888773759; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/openapi/clientlog;;MUSIC_A_T=1674888773759; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/wapi/feedback;;MUSIC_A=bf8bfeabb1aa84f9c8c3906c04a04fb864322804c83f5d607e91a04eae463c9436bd1a17ec353cf7786b64e344ceb03d9068c947cc795f69993166e004087dd32f6f962663b22052611c474b737a5af43a866878aeba3cacd9ece83d776f747c807e650dd04abd3fb8130b7ae43fcc5b; Max-Age=1296000; Expires=Tue, 14 Feb 2023 02:56:17 GMT; Path=/;;MUSIC_R_T=0; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/eapi/feedback;;MUSIC_A_T=1674888773759; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/api/feedback;;MUSIC_R_T=0; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/weapi/clientlog;;MUSIC_SNS=; Max-Age=0; Expires=Mon, 30 Jan 2023 02:56:17 GMT; Path=/;MUSIC_R_T=0; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/wapi/clientlog;;MUSIC_R_T=0; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/wapi/feedback;;MUSIC_A_T=1674888773759; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/neapi/clientlog;;MUSIC_A_T=1674888773759; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/neapi/feedback;;MUSIC_R_T=0; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/api/feedback;;MUSIC_R_T=0; Max-Age=2147483647; Expires=Sat, 17 Feb 2091 06:10:24 GMT; Path=/openapi/clientlog;"')
  //正版登录cookie
  let cookie3= encodeURIComponent('_ntes_nnid=847889376025ea1e3724a6cc3338be66,1671327787618; _ntes_nuid=847889376025ea1e3724a6cc3338be66; NMTID=00OIKnGJmuKEWorlU26udOtYUYkNboAAAGFIuYuzA; WNMCID=exzodc.1671327805252.01.0; ntes_kaola_ad=1; WEVNSM=1.0.0; __snaker__id=0Cp9ESCsCLocY9Kg; WM_TID=ucx%2BduuSKARAFVVUAALUYu%2FLZIzGYOSb; YD00000558929251%3AWM_TID=DEuz3ZgviApBVBQEUVaEcu7OMkU6KJup; YD00000558929251%3AWM_NI=mY1o%2BqP7oh8WflskAze08J%2FiSGhI6YY8srWLb0F7wONOMR6JFw4Msuuni3E6K0Q9w%2BlRXFmWLLsAaIWJPICNwqt2yDf7EwGsyYiCUsOxlFjCyH%2FyLlOiFZ5wn3Sz94HXemY%3D; YD00000558929251%3AWM_NIKE=9ca17ae2e6ffcda170e2e6eeccc9528bf5bfa7c46bb48e8ba3c45a939f8a87c86f979f8e86f150fc9ffb9be82af0fea7c3b92aaf87ff90aa7b94e9a189bb5da6b4bd8cc472a7f0f8abae639199a8aab5539be8bd93d648a2f08ad8f6458e9183b3b54286a9fcaef27fb7b2a7d4c83e89f09fdaf621b08e98a7f05d9094bda2e4439596a0aac246b5afbcd3fc50a6e98b98c679bb87a7a4d8798da8a4a7e949bb98e19acf688db78abbb87daeed9d9bbc408c88ab8edc37e2a3; MUSIC_U=fad531027b271b05cd1cb9ac942ac728786b64e344ceb03d2dfc1f0baace0c5e993166e004087dd376b9c749073f270348623f4659fc9da46bd7be17af1177938411a24e33bda135d4dbf082a8813684; __remember_me=true; __csrf=5a6058ab58e58db1b3bd6802f9b77d39; gdxidpyhxdE=1UZcLNusX3oUosv4WOkVEdK3cNEysXl%2Fphym3zT2Zs8l8HKC5m0G8%5CKbzQ%2F%2FM%2B57l8yWToLlHnmEOO77L%2BxIKh10E4AUq5vzoGAlSPI0y%5C3uSnk6T9TgZtELtf6%2Bu8Qm3BHInLmZ86a0yZtI82%5CqUkVeLsr%2BaCccweeZ1RMSs5cHCygT%3A1675047169781; _iuqxldmzr_=32; NETS_utid=opdskax4ARYgJKr6Vp5o4rJgXrNBsPUa; JSESSIONID-WYYY=vvXtH2QtBBBXggfSDlphVCQ%2BrD%2B%2Bj7mmvWFbSqv2P4hmDAhQsoJ0vNfvZY3xFg9PvHq2WFJeyNR%5C%5CfxjYQS0WSkoeGg8kocjbxvViaPfn3FthaKi84Z%5CHVh5To1WKvj2nZhDa1FV7XPBOCWz%2Bz%5C9hnp70o8j7KplG3IKd4tesJqRT4Ye%3A1675159352744; WM_NI=5o7q0VWs20vy9%2B49avuv%2FkCdRbMYd4JPM970wfYzUzt5TuTb7I1h1zoj8SzhpAbpeSuKdwuVk21i4y2tw07umTSj903zutVloDYOZ%2Fal9twQ5zimXjoR1zFZJPFOFPnWRUc%3D; WM_NIKE=9ca17ae2e6ffcda170e2e6eea4d7709c96bed6d353b3968ba7c45a828e8f86c56e839abab4d92194bfaba8d42af0fea7c3b92af7b1f992b35e95adfed1f573fbf5fcdae47eb7aae18cc27092be83bae7408a9083dab63cb5ba979bd872b8eb9c96d76af597ff89b472adb6f8b4f964b49fae91e859b795ac98f85ea9eeff8ab773f2acb9d1b67faf8c9d8bbc3cf1a6bb95d568ad9c97b0d925a3b4f795f65bf7a6a78edb62ad8eff9bc5528a908ab0c55cae899eb6e237e2a3')
  //二维码登录cookie
  var cookie4=encodeURIComponent("MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/api/feedback; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/eapi/clientlog; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/weapi/feedback; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/wapi/feedback; HTTPOnly;__csrf=77c038e73c3c1327cbaf3b92e9be5a4a; Max-Age=1296010; Expires=Thu, 16 Feb 2023 14:19:00 GMT; Path=/;;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/neapi/feedback; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/eapi/feedback; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/eapi/feedback; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/wapi/clientlog; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/weapi/clientlog; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/api/clientlog; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/wapi/feedback; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/weapi/clientlog; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/neapi/feedback; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/neapi/clientlog; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/openapi/clientlog; HTTPOnly;MUSIC_U=fad531027b271b05cd1cb9ac942ac728c0e2bf2a01f22af5bf3a7ab71371bdb9993166e004087dd3505009b88c5f770142adff145d8be7196bd7be17af1177938411a24e33bda135d4dbf082a8813684; Max-Age=15552000; Expires=Mon, 31 Jul 2023 14:18:50 GMT; Path=/; HTTPOnly;MUSIC_SNS=; Max-Age=0; Expires=Wed, 01 Feb 2023 14:18:50 GMT; Path=/;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/neapi/clientlog; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/weapi/feedback; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/openapi/clientlog; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/api/feedback; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/eapi/clientlog; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/wapi/clientlog; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/api/clientlog; HTTPOnly")
//测试账号UID：8334102993
  var gequarr=[]
var geminarr=[]
var geshouarr=[]
var idarr=[]
var imgarr=[]
var dtarr=[]
var limit1 =document.getElementsByClassName("dangqian1")
var url=[]

var indexge=-1
var dangqianbofang=document.getElementById("dangqianbofang")
var fengmian1=document.getElementById("fengmian1")
var gemin1=document.getElementsByClassName("gemin1")[0]
var geshou1=document.getElementsByClassName("geshou1")[0]
var zuixinliebiao1=document.getElementsByClassName("zuixinliebiao1")
var transTime= function (num){
  let num3 =parseInt(num)
  let num2=(num3-(num3%1000))/1000
  let numb=num2%60
  let numa=(num2-numb)/60
  if(num2<60){
  if(numb<10){
    return "00:0"+numb.toString() 
  }
  return "00:"+numb.toString() 
  }else{
  if(numb<10&&numa>=10){
    return numa.toString()+":0"+numb.toString() 
  }else if(numa<10&&numb>=10){
  return "0"+numa.toString() +":"+numb.toString() 
  }else if(numa<10&&numb<10){
  return "0"+numa.toString()+":0"+numb.toString() 
  }else{
  return numa.toString()+":"+numb.toString() 
  
  }
  }}

        async function start(){ 
          //获取头像，用户名等
          const res100 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/user/detail?uid=8334102993",{
  method:"get",
        })
const data100=await res100.json()

let avatar=document.getElementById("avatar")
let username0=document.getElementById("username0")
avatar.src=data100.profile.avatarUrl
username0.innerHTML=data100.profile.nickname

//获得用户歌单
const res28 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/user/playlist?uid=8334102993",{
  method:"get",
        })

var datagedanlist=await res28.json()
// console.log(datagedanlist)
var wodegedan=document.getElementsByClassName("wodegedan")[0]
//侧栏歌单添加
for(let v=1;v<datagedanlist.playlist.length;v++){
  let a=  document.createElement("li")
  a.className="wodege"
  wodegedan.appendChild(a)
  // console.log(a)
  let c = document.createElement("div")
  a.appendChild(c)
  c.className="gedanmin"
  let b= document.createElement("img")
  a.insertBefore(b,c)
  b.className="wodeimg"
}
let wodeimg=document.getElementsByClassName("wodeimg")
// console.log(wodeimg)
let gedanmin00=document.getElementsByClassName("gedanmin")






//侧栏歌单封面，名字等添加
for(let v=1;v<datagedanlist.playlist.length;v++){
wodeimg[v-1].src=datagedanlist.playlist[v].coverImgUrl
  gedanmin00[v-1].innerHTML=datagedanlist.playlist[v].name
}
var list6 = document.getElementsByClassName("wodege")
            for (var i = 0; i < list6.length; i++) {
            list6[i].onmouseover = function () {
                this.style.backgroundColor = "rgba(0, 0, 0, 0.2)";
            };
            list6[i].onmouseout = function () {
                this.style.backgroundColor = "";
            };
        }
//           const res9 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/captcha/verify?phone=17783141602&captcha=4634",{
//   method:"get",


//         })
// const data9=await res9.json()
// console.log(data9)
//            const res19 = await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/login/cellphone?phone=17783141602&password=zHAOYAO2116&cookie="+encodeURIComponent("MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/api/feedback; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/eapi/clientlog; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/weapi/feedback; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/wapi/feedback; HTTPOnly;__csrf=77c038e73c3c1327cbaf3b92e9be5a4a; Max-Age=1296010; Expires=Thu, 16 Feb 2023 14:19:00 GMT; Path=/;;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/neapi/feedback; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/eapi/feedback; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/eapi/feedback; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/wapi/clientlog; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/weapi/clientlog; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/api/clientlog; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/wapi/feedback; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/weapi/clientlog; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/neapi/feedback; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/neapi/clientlog; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/openapi/clientlog; HTTPOnly;MUSIC_U=fad531027b271b05cd1cb9ac942ac728c0e2bf2a01f22af5bf3a7ab71371bdb9993166e004087dd3505009b88c5f770142adff145d8be7196bd7be17af1177938411a24e33bda135d4dbf082a8813684; Max-Age=15552000; Expires=Mon, 31 Jul 2023 14:18:50 GMT; Path=/; HTTPOnly;MUSIC_SNS=; Max-Age=0; Expires=Wed, 01 Feb 2023 14:18:50 GMT; Path=/;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/neapi/clientlog; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/weapi/feedback; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/openapi/clientlog; HTTPOnly;MUSIC_R_T=1674958715285; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/api/feedback; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/eapi/clientlog; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/wapi/clientlog; HTTPOnly;MUSIC_A_T=1674958715027; Max-Age=2147483647; Expires=Mon, 19 Feb 2091 17:32:57 GMT; Path=/api/clientlog; HTTPOnly"),{
           
//             method :"get",
//             headers:{
// 'Content-Type':'application/json;charset=utf-8'
//             },
        
//             credentials: 'include',
            
//           })
//             const data19 =await res19.json()
//             console.log(data19)
//                 const res1 = await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/login?email=xxx&password=yyy&cookie=zzz&timerstamp=${Date.now()}",{
           
//             method :"post",
//             headers:{
// 'Content-Type':'application/json;charset=utf-8'
//             },
//             body:JSON.stringify({
//                email:"bzy2116@163.com",
//               password:"zHAOYAO2116",
//               cookie:cookie2
//                 }),
//             credentials: 'include',
            
//           })
//             const data1 =await res1.json()
//             console.log(data1)



// const res1001 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/user/account",{
//   method:"get",


//         })
// const data1001=await res1001.json()
// console.log(data1001)

// //二维码登录
// const res14 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/login/qr/key/&timerstamp=${Date.now()}",{
//   method:"get",

//         })
// const data14=await res14.json()
// console.log(data14.data.unikey)          

// const res19 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/login/qr/create?key="+data14.data.unikey +"&qrimg=yyy&timerstamp=${Date.now()}",{
//   method:"get",
//   // body:JSON.stringify({
//   //                 key:data14.unikey
                  
//   //                   }),
//         })
// const data19=await res19.json()
// console.log(data19.data.qrimg)       

// // let res3 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/login/qr/check?key="+data14.data.unikey+"&timerstamp=${Date.now()}",{
// //   method:"get",
  
// // })
// // const data3=await res3.json()
// // console.log(data3)


// // 轮询接口
// const timer1 = setInterval(async() => {
//   let res3 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/login/qr/check?key="+data14.data.unikey+"&timerstamp=${Date.now()}",{
//   method:"get",
  
// })
// const data3=await res3.json()
// console.log(data3)
// if(data3.code==800){
// console.log("二维码不存在或过期")
// // 退出的时候一定要清空
// clearInterval(timer1) 
// }else if(data3.code==801){
//   console.log("等待扫码")

// }else if(data3.code==802){
//   console.log("等待确定")
// }else{
//   console.log(data3)
//   const res8 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/login/status",{
//   method:"get",


//         })
// const data8=await res8.json()
// console.log(data8)
// clearInterval(timer1) 

// }
// }, 5000)       

// 退出登录

// 登陆状态



// 游客登录  （登一次就行了
// const res7 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/register/anonimous",{
//   method:"get",


//         })
// const data7=await res7.json()
// console.log(data7)     

// const res5 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/register/cellphone?phone=17783141602&password=ZHAOYAO2116&captcha=9178&nickname=BZTEST",{
//   method:"get",

//         })
// const data5=await res5.json()
// console.log(data5)
//获得用户基本信息



alert("给我点时间,加载一下")
  //获取推荐歌单8个
const res6 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/top/playlist?limit=8",{
  method:"get",


        })
var data6=await res6.json()

//推荐歌单封面等添加
let remenpiclist = document.getElementsByClassName("remenpicimg");
let remenwordslist =document.getElementsByClassName("remenwords");
 let bof=document.getElementsByClassName("bofangliang");

for(i=0;i<8;i++){
  remenpiclist[i].src=data6.playlists[i].coverImgUrl,
  remenwordslist[i].innerHTML=data6.playlists[i].name
  bof[i].innerHTML=trans(data6.playlists[i].playCount)

}


  

var liebiao2=document.getElementsByClassName("liebiao2")
var gedanlist=document.getElementsByClassName("gedans") 
 var res71
 var data71
 var gemin2 =document.getElementsByClassName("gemin2")
  var geshou2 =document.getElementsByClassName("geshou2")
  var shichang2 =document.getElementsByClassName("shichang2")
  var gedanmin = document.getElementsByClassName("gedanmin3")
  var chuangjianzhe =document.getElementsByClassName("chuangjianzhe")
  var gequshu =document.getElementsByClassName("gequshu")
  var gedanimg =document.getElementsByClassName("gedanimg0")
        //播放，添加歌曲
        for(let i=0;i<8;i++){//遍历歌单中的歌曲
          let res27=await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/playlist/track/all?id="+data6.playlists[i].id+"&timerstamp=${Date.now()}",{
         method:"get",
               })
        var data277=await res27.json()//我的歌单（除了我喜欢的音乐）
        //创建歌曲
   
           //向数组中记录数据（除音乐的url）
            for(let j=0;j<10;j++){
        geminarr.push(data277.songs[j].name)
        geshouarr.push(data277.songs[j].ar[0].name)
        idarr.push(data277.songs[j].id)
        imgarr.push(data277.songs[j].al.picUrl)
        dtarr.push(data277.songs[j].dt)
        
        }

          
          } alert("好了叫你，可能要等一下") 
               //向数组中记录音乐url数据
              for(let y=url.length;y<dtarr.length;y++){
              let res111=await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/song/url/v1?id="+idarr[y]+"&level=exhigh&timerstamp=${Date.now()}",{
                method:"get",
            })
            var data111=await res111.json()
           
            url.push(data111.data[0].url)
             }  
        //播放，添加侧栏歌曲
       
for(let i=1;i<datagedanlist.playlist.length;i++){//遍历歌单中的歌曲
  let res27=await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/playlist/track/all?id="+datagedanlist.playlist[i].id+"&timerstamp=${Date.now()}",{
 method:"get",
       })
let data27=await res27.json()//侧栏歌单（除了我喜欢的音乐）
//创建歌曲
  for(let m=0;m<data27.songs.length;m++){
       var liebiao3add=document.createElement("li")
       liebiao3add.className="liebiao3"
   liebiao2[i+7].appendChild(liebiao3add)
   var countadd=document.createElement("span")
   var div1add=document.createElement("div")
   div1add.className="gemin2"
   var div2add=document.createElement("div")
   div2add.className="geshou2"
   var div3add=document.createElement("div")
   div3add.className="shichang2"
   liebiao3add.appendChild(countadd)
   liebiao3add.appendChild(div1add)
   liebiao3add.appendChild(div2add)
   liebiao3add.appendChild(div3add)
   }
    
   //向数组中记录数据（除音乐的url）
    for(let j=0;j<data27.songs.length;j++){
     
geminarr.push(data27.songs[j].name)
geshouarr.push(data27.songs[j].ar[0].name)
idarr.push(data27.songs[j].id)
imgarr.push(data27.songs[j].al.picUrl)
dtarr.push(data27.songs[j].dt)
let gemin2add=liebiao2[i+7].getElementsByClassName("gemin2")
let geshou2add=liebiao2[i+7].getElementsByClassName("geshou2")
let shichang2add=liebiao2[i+7].getElementsByClassName("shichang2")

gemin2add[j].innerHTML=data27.songs[j].name
 geshou2add[j].innerHTML=data27.songs[j].ar[0].name
 shichang2add[j].innerHTML=transTime(data27.songs[j].dt)
}

  }
  //遍历侧栏歌单
    
    
       //向数组中记录音乐url数据
      for(let y=80;y<idarr.length;y++){
      let res112=await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/song/url/v1?id="+idarr[y]+"&level=exhigh&timerstamp=${Date.now()}",{
        method:"get",
    })
    var data112=await res112.json()
    
    url.push(data112.data[0].url)
    }


// console.log(url1)

// 登陆状态
// const res8 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/user/playlist?uid=8334102993",{
//   method:"get",


//         })
// const data8=await res8.json()
// console.log(data8)




// const res14 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/captcha/sent?phone=xxx",{
//   method:"post",
//   body:JSON.stringify({
//         phone:
//       }),
//         })
// const data14=await res14.json()
// console.log(data14)

alert("再等等")     

//歌单分类

for(let i=0;i<8;i++){


  //点击显示歌单详情
  remenwordslist[i].addEventListener("click",async()=>{
    res71=await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/playlist/track/all?id="+data6.playlists[i].id+"&timerstamp=${Date.now()}",{
      method:"get",
            })
    data71=await res71.json()
    // console.log(data71)
    hide2()
    chuangjianzhe[i].innerHTML="创建者："+data6.playlists[i].creator.nickname
    gedanmin[i].innerHTML=data6.playlists[i].name
    gequshu[i].innerHTML="歌曲："+data71.songs.length
    gedanimg[i].src=data6.playlists[i].coverImgUrl
    for(let j=i*10;j<(i+1)*10;j++){
        gemin2[j].innerHTML=data71.songs[j-(i*10)].name
        geshou2[j].innerHTML=data71.songs[j-(i*10)].ar[0].name
        shichang2[j].innerHTML=transTime(data71.songs[j-(i*10)].dt) 
    
    }
    
        gedanlist[i].style.display="block"
        
        
    for( let j=0;j<8;j++){
    let gedanmin00=document.getElementsByClassName("gedanmin2")
    
    gedanmin00[j].onclick=function(){
       find2()
         for(let i=0;i<8;i++){
        gedanlist[i].style.display="none"
    }
    }
    }
    }
  )}
// console.log(chuangjianzhe)
  //我的歌单
  // let rightm1=document.getElementById("rightm1")
 var index0=-10 



  for(let i=1;i<datagedanlist.playlist.length;i++){
  list6[i-1].addEventListener("click",async()=>{
     let res17=await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/playlist/track/all?id="+datagedanlist.playlist[i].id+"&timerstamp=${Date.now()}",{
      method:"get",
            })
   var data17=await res17.json()
   for(let n=0;n<8;n++){
      gedanlist[n].style.display="none"
    }  
    if(index0==-10){
      

     var xuhao=liebiao2[i+7].getElementsByTagName("span")

console.log(gemin2)
console.log(chuangjianzhe)
// console.log(geminadd2)
    hide2()
    chuangjianzhe[7+i].innerHTML="创建者："+datagedanlist.playlist[i].creator.nickname
    gedanmin[7+i].innerHTML=datagedanlist.playlist[i].name
    gequshu[7+i].innerHTML="歌曲："+data17.songs.length
    gedanimg[7+i].src=datagedanlist.playlist[i].coverImgUrl
    for(let j=0;j<data17.songs.length;j++){
        if(j+1<10){
        xuhao[j].innerHTML="0"+(j+1)
        }else{
        xuhao[j].innerHTML=j+1
        
        }
    
    }
        gedanlist[i+7].style.display="block"
    for( let j=8;j<7+datagedanlist.playlist.length;j++){
    let gedanmin00=document.getElementsByClassName("gedanmin2")
    
    gedanmin00[j].onclick=function(){
       find2()
         for(let i=0;i<7+datagedanlist.playlist.length;i++){
        gedanlist[i].style.display="none"
    }
    }
    }
    index0=i+7
  }else{



let xuhao=liebiao2[i+7].getElementsByTagName("span")
// console.log(geminadd2)

    hide2()
    chuangjianzhe[7+i].innerHTML="创建者："+datagedanlist.playlist[i].creator.nickname
    gedanmin[7+i].innerHTML=datagedanlist.playlist[i].name
    gequshu[7+i].innerHTML="歌曲："+data17.songs.length
    gedanimg[7+i].src=datagedanlist.playlist[i].coverImgUrl
    for(let j=0;j<data17.songs.length;j++){
        gemin2[j].innerHTML=data17.songs[j].name
        geshou2[j].innerHTML=data17.songs[j].ar[0].name
        shichang2[j].innerHTML=transTime(data17.songs[j].dt) 
        if(j+1<10){
        xuhao[j].innerHTML="0"+(j+1)
        }else{
        xuhao[j].innerHTML=j+1

        }
    
    }
        gedanlist[i+7].style.display="block"
        
        
    for( let j=8;j<7+datagedanlist.playlist.length;j++){
    let gedanmin00=document.getElementsByClassName("gedanmin2")
    
    gedanmin00[j].onclick=function(){
       find2()
         for(let i=0;i<7+datagedanlist.playlist.length;i++){
        gedanlist[i].style.display="none"
    }
    }
    }
    gedanlist[index0].style.display="none"
    index0=i+7
  }
  //添加侧栏中歌单页面内容结束--------------------------------------


    
    })

  function hide2(){
    nav1.style.display="none"
    lunbo.style.display="none"
    tuijiange.style.display="none"
    tagzuixin.style.display="none"
    zuixin.style.display="none"
}
function find2(){   
    nav1.style.display="block"
lunbo.style.display="block"
tuijiange.style.display="block"
tagzuixin.style.display="block"
zuixin.style.display="block"
zuixin.style.display="flex"
}
}


alert("快了")



//全部新碟



//推荐歌单
//歌单
var liebiao3=document.getElementsByClassName("liebiao3")
for(let m=0;m<geminarr.length;m++){//遍历所有歌曲
  liebiao3[m].onclick=async  function(){
    if(Boolean(url[m])==1){
      
      indexge++
  gequarr.push(url[m])//记录播放的音乐
  
  
  if(limit1.length<25){//控制播放列表的长度
  //在播放列表中添加
  let dangqian1=document.createElement("li")
  dangqian1.className="dangqian1"
  dangqianbofang.appendChild(dangqian1)
  let gemin=document.createElement("div")
  gemin.className="gemin"
  let shichang=document.createElement("div")
  shichang.className="shichang"
  dangqian1.appendChild(gemin)
  dangqian1.appendChild(shichang)
  gemin.innerHTML=geminarr[m]
  shichang.innerHTML=transTime(dtarr[m])
  audio.src=gequarr[indexge] //播放音乐
  //播放器的封面，歌名，歌手信息
  
  gemin1.innerHTML=geminarr[m]
  geshou1.innerHTML=geshouarr[m]
  fengmian1.src=imgarr[m]
  setTimeout("bofang2()",1000)
  bofang()
  bofang()

  }
  var dangqian1=document.getElementsByClassName("dangqian1")
for(let s=0;s< dangqian1.length;s++){
  dangqian1[s].onclick=function(){
    indexge=s
    for(let t=0;t<geminarr.length;t++){
      if(url[t]==gequarr[indexge]){
          gemin1.innerHTML=geminarr[t]
          geshou1.innerHTML=geshouarr[t]
          fengmian1.src=imgarr[t]
      }
  }
  audio.src= gequarr[indexge]
  setTimeout("bofang2()",1000)
  bofang()
  bofang()
  }
}
  
}else{
  alert("这首歌放不了，别问我，我也不知道怎么办,没版权，你去找丁磊")
}
  }
  }
//歌曲的灰白背景
for(let i=0;i<liebiao3.length;i++){
  if(i%2==0){
      liebiao3[i].style.backgroundColor="rgb(247,247,247)";
  }else if(i%2!=0){
      liebiao3[i].style.backgroundColor="white"
  }}

//获取歌单详情


let nav1=document.getElementsByClassName("nav1")[0]
let lunbo=document.getElementsByClassName("lunbo")[0]
let tuijiange=document.getElementsByClassName("tuijiange")[0]
let tagzuixin=document.getElementsByClassName("tagzuixin")[0]
let zuixin=document.getElementsByClassName("zuixin")[0]





//播放量等转化为万，亿为单位
 function trans(num){
  let num2 =parseInt(num)
if(num2<10000){
  return num2.toString()
} else if(num2<100000000&&num2>10000){
  let numwan=(num2-num2%1000)/10000;
  return numwan.toString()+"万"
}else{
  let numyi=(num2-num2%10000000)/100000000;
  return numyi.toString()+"亿"
}
}

for(let m=0;m<12;m++){
  zuixinliebiao1[m].onclick=function(){
   
  alert("敬(mei)请(shi)期(jian)待(le)")
}
  
}


alert("好了")
alert("点击歌单下的文字，进入歌单，在歌单界面点击歌单名旁的红色歌单按钮，返回，点击左上角logo，刷新页面")

var dangqian1=document.getElementsByClassName("dangqian1")
console.log(dangqian1)
for(let s=0;s< dangqian1.length;s++){
  dangqian1[s].onclick=function(){
    indexge=s
    for(let t=0;t<geminarr.length;t++){
      if(url[t]==gequarr[indexge]){
          gemin1.innerHTML=geminarr[t]
          geshou1.innerHTML=geshouarr[t]
          fengmian1.src=imgarr[t]
      }
  }
  audio.src= gequarr[indexge]
  console.log(1)
  }
}

// // 获取精品歌单top
// const res10 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/top/playlist/highquality?limit=1",{
//   method:"get",


//         })
// const data10=await res10.json()
// console.log(data10)

// //获取歌单歌曲
// const res11 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/playlist/track/all?id=5001&limit=10&offset=1",{
//   method:"get",


//         })
// const data11=await res11.json()
// console.log(data11)

// //获取音乐
// const res12 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/song/url/v1?id=85580&level=standard",{
//   method:"get",


//         })
// const data12=await res12.json()
// console.log(data12)


}

async function start2(){
  //最新音乐封面，歌名
var res13 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/top/album?limit=12",{
  method:"get",


        })
var data13=await res13.json()
// console.log(data13)
let zuixinimglist=document.getElementsByClassName("zuixinimg");
let zuixingeminlist=document.querySelectorAll(".gemin22");
let zuixingeshoulist=document.querySelectorAll(".geshou22");
 for( i=0;i<12;i++){
  if(data13.monthData.length!=0){
  zuixingeminlist[i].innerHTML=data13.monthData[i].name;
  zuixingeshoulist[i].innerHTML=data13.monthData[i].artist.name;
zuixinimglist[i].src=data13.monthData[i].picUrl;
}else{
  zuixingeminlist[i].innerHTML=data13.weekData[i].name;
  zuixingeshoulist[i].innerHTML=data13.weekData[i].artist.name;
zuixinimglist[i].src=data13.weekData[i].picUrl;
}
}


}


async function start3(){
  // 轮播图----------------------------------------------------------

//新碟上架
const res18 =await fetch("https://service-rmmwonig-1315774598.gz.apigw.tencentcs.com/release/album/list?limit=10",{
  method:"get",


        })
const data18=await res18.json()
// console.log(data18)
let lunbolist=document.getElementsByClassName("lunbo1");
for(i=0;i<5;i++){
lunbolist[i].src=data18.products[i].coverUrl
}
let back = document.getElementsByClassName('lunbo')[0];
let box=document.getElementsByClassName('box')[0];
let pic=document.getElementsByClassName('pic')[0];
// let img =pic.getElementsByTagName('a');
let pre=document.getElementsByClassName('pre')[0];
let nex=document.getElementsByClassName('nex')[0];
let lis=document.getElementsByClassName('lis')[0];
let spans=lis.getElementsByTagName('span');
let index=0;


function nextClick(){
    index++
    pic.style.transition='all .8s'
    pic.style.transform='translateY('+(-index * 338) +'px)' ;
    back.style.backgroundImage="url("+data18.products[index].coverUrl+")";
    if(index >=5||index<=-1){
        pic.style.transform='translate(0,0)' ;
            pic.style.transition='all.24s';
            back.style.backgroundImage="url("+data18.products[0].coverUrl+")";

            index=0}

    for( i=0;i<5;i++){
        spans[i].className=''
        spans[index].className='current'
    }
    
}
nex.onclick=nextClick
function preClick(){
    index--  
    if(index==-1){
       pic.style.transform='translateY('+(-4 *338) +'px)' ;
        pic.style.transition='all.24s'
    back.style.background="url("+data18.products[4].coverUrl+")";

        index=4 
        for( i=0;i<5;i++){
        spans[i].className=''
        spans[index].className='current'
    }
    }else{
      pic.style.transition='all.8s';
        pic.style.transform='translateY('+(-index  *338) +'px)' ; 
    back.style.background="url("+data18.products[index].coverUrl+")";
    for( i=0;i<5;i++){
        spans[i].className=''
        spans[index].className='current'
    }
    }
  
}
pre.onclick=preClick

let timer=setInterval(nextClick,8000);

for(var i=0;i<spans.length;i++){
    (function(i){
        spans[i].onclick=function(){
            var allSpans=this.parentNode.children
            for(var j=0;j<allSpans.length;j++){
                allSpans[j].className=''
            }
            this.className='current'
            index=i
            pic.style.transform='translateY('+(-index  *338) +'px)' ;
            pic.style.transition='all .10s'
            back.style.background="url("+data18.products[index].coverUrl+")";

        }
    })(i)
}
box.onmouseenter=function(){
    clearInterval(timer)
}
box.onmouseleave=function(){
    timer=setInterval(nextClick,8000)
}
//轮播图结束-------------------------------------------------
}



start()
           start2()
           start3()




           




  
//   let liebiao3=document.getElementsByClassName("liebiao3");
// for(var i=0;i<liebiao3.length;i++){
// if(i%2==0){
//     liebiao3[i].style.backgroundColor="rgb(247,247,247)";
// }else{
//     liebiao3[i].style.backgroundColor="white"
// }}








//播放器
let tiao =document.getElementsByClassName("tiao")[0];
let spot1 =document.getElementsByClassName("spot1")[0];
tiao.onmouseover = function () {
            spot1.style.display="block";
        };
        tiao.onmouseout = function () {
            spot1.style.display="none";
        };


    let audio =document.getElementsByTagName('audio')[0];
   
    audio.volume = 0.1;
let rBox =document.getElementsByClassName("bofang")[0];
let curTime =document.getElementById("time1");
let duraTime =document.getElementById("time2");

let xiayishou=document.getElementsByClassName("xiayishou")[0]
let shangyishou=document.getElementsByClassName("shangyishou")[0]

shangyishou.onclick=function(){
    indexge--
    if(indexge==-1){
alert("已经是第一首了，别点了，别给我点出bug了")
indexge++
    }else{
        for(let t=0;t<geminarr.length;t++){
            if(url[t]==gequarr[indexge]){
                gemin1.innerHTML=geminarr[t]
                geshou1.innerHTML=geshouarr[t]
                fengmian1.src=imgarr[t]
            }
        }
      
   audio.src= gequarr[indexge] 
   setTimeout("bofang2()",1000)
   bofang()
   bofang()
}
}
xiayishou.onclick=function(){
    indexge++

    if(indexge==limit1.length){
alert("已经是最后一首了，别点了，别给我点出bug了")
indexge--
    }else{
        
        for(let t=0;t<geminarr.length;t++){
            if(url[t]==gequarr[indexge]){
                gemin1.innerHTML=geminarr[t]
                geshou1.innerHTML=geshouarr[t]
                fengmian1.src=imgarr[t]
            }
        }
       
   audio.src= gequarr[indexge]
   setTimeout("bofang2()",1000)
   bofang()
   bofang()
}
}

audio.load();
function bofang(){
    if(audio.paused){
     audio.play();
        rBox.style.backgroundPositionY=  -165+"px";
duraTime.innerHTML = transTime1(audio.duration);

}else {
        audio.pause();
        rBox.style.backgroundPositionY= -204 +'px';
    }
}
function bofang2(){
  if(audio.paused){
   
      rBox.style.backgroundPositionY=  -165+"px";
      audio.load
  duraTime.innerHTML = transTime1(audio.duration)
audio.play();
}else {
      
      audio.load
    duraTime.innerHTML = transTime1(audio.duration)
  
   audio.play();
      // rBox.style.backgroundPositionY= -204 +'px';
      
  }
}



var scroll = document.getElementById('bo1');
var bar =document.getElementById("spot1");
var barleft = 0;
let jindu = document.getElementById("bo2");
let count2 =1;

audio.addEventListener("timeupdate", () => {
    curTime.innerHTML=transTime1(audio.currentTime)
    jindu.style.width=(audio.currentTime/audio.duration)*100+"%";
  });
bar.addEventListener("mousedown", function(e) {
    count2=0
    document.onmousemove = function(e){
     let x = e.pageX;
     let yinliangnew = x-scroll.offsetLeft;
        if(yinliangnew <0){
            yinliangnew=0;
        } else if (yinliangnew>400){
            yinliangnew=400;
        } 
        
        let rate = yinliangnew/400;
        jindu.style.width=yinliangnew+"px";
        audio.currentTime=rate*audio.duration;
        curTime.innerHTML=transTime1(parseInt(audio.currentTime) );
        audio.pause();
    }
    document.onmouseup =function(){
document.onmouseup=null;
document.onmousemove=null;
count2 =1
audio.play();
rBox.style.backgroundPositionY= -165 +"px";
    }
    
})
scroll.addEventListener("mousedown", function(e) {
    count2=0
    document.onmousemove = function(e){
   
     let x = e.pageX;
     let yinliangnew = x-jindu.offsetLeft
        if(yinliangnew <0){
            yinliangnew=0;
        } else if (yinliangnew>400){
            yinliangnew=400;
        }
        
        let rate = yinliangnew/400;
        jindu.style.width=yinliangnew+1+"px";
        audio.currentTime=rate*audio.duration;
        curTime.innerHTML=transTime1(parseInt(audio.currentTime));
 audio.pause();
    }
    document.onmouseup =function(){
document.onmouseup=null;
document.onmousemove=null;
count2 =1
audio.play();
rBox.style.backgroundPositionY= -165 +"px";
    }
})
//格式化时间，化为分 ：秒
function transTime1(time){
    let duration =parseInt(time)
    let minute = parseInt(duration / 60);
        let sec = (duration % 60) + "";
        let isM0 = ":";
        if (minute == 0) {
          minute = "00";
        } else if (minute < 10) {
          minute = "0" + minute;
        }
        if (sec.length == 1) {
          sec = "0" + sec;
        }
        return minute + isM0 + sec;
}
//音量键
//参考了https://blog.csdn.net/qq_51567295/article/details/126939075?ops_request_misc=&request_id=&biz_id=102&utm_term=html%E8%BF%9B%E5%BA%A6%E6%9D%A1%E6%8B%96%E5%8A%A8&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-3-126939075.142^v71^pc_new_rank,201^v4^add_ask&spm=1018.2226.3001.4187
let ele2 = document.getElementsByClassName("yinliang")[0];
let menu =document.getElementById("voice");
// let flag =1,flag2=1;
        ele2.onmouseover = function(){
                menu.style.display = "block";
                
            }
            menu.onmouseover = function(){
            // flag2=0;
            } 
            ele2.onmouseleave =function(){
                // flag=0;
                // if(flag==0&&flag2==1)
            menu.style.display="none"
            }
            menu.onmouseleave =function(){
                // if(flag==0&&flag2==0)
                menu.style.display="none"
            }
let yinliangtiao =document .getElementsByClassName("voice")[0]
const voicePro = document.getElementById("yinliangtiao2");
yinliangtiao.addEventListener("mousedown", function (event) {

    let y = event.pageY;
    voicePro.style.height = (80 - event.offsetY) + "px";
    let voiceProLen = voicePro.offsetHeight
    let ratio = voiceProLen / 80;
    document.onmousemove = function(event) {
        let diff = y - event.pageY;
        let voiceProLenNew = voiceProLen + diff;
        if(voiceProLenNew < 0) {
            voiceProLenNew = 0;
        } else if(voiceProLenNew > 80) {
            voiceProLenNew = 80;
        }
        voicePro.style.height = voiceProLenNew + "px";
        let ratio = voiceProLenNew / 80;
         audio.volume = ratio;
         
    }
});
document.onmouseup = function() {
    document.onmousemove = null;
}

